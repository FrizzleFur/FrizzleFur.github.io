<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="搭建博客-给Hexo换皮肤"><meta name="keywords" content="Hexo"><meta name="author" content="FrizzleFur"><meta name="copyright" content="FrizzleFur"><title>搭建博客-给Hexo换皮肤 | FFur</title><link rel="shortcut icon" href="/images/my-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.5.6"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.5.6"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#引言"><span class="toc-number">1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#目录"><span class="toc-number">2.</span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#“博客搭建史”"><span class="toc-number">2.1.</span> <span class="toc-text">“博客搭建史”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#手残的我╮-╯▽╰-╭"><span class="toc-number">2.2.</span> <span class="toc-text">手残的我╮(╯▽╰)╭</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#填坑-SSH"><span class="toc-number">2.3.</span> <span class="toc-text">填坑 SSH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#绑定域名"><span class="toc-number">2.4.</span> <span class="toc-text">绑定域名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#进阶配置"><span class="toc-number">2.5.</span> <span class="toc-text">进阶配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用-MWeb-发布-Hexo-博客"><span class="toc-number">2.5.1.</span> <span class="toc-text">使用 MWeb 发布 Hexo 博客</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#头像设置-avatar"><span class="toc-number">2.5.2.</span> <span class="toc-text">头像设置 avatar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#网站-favico-设置"><span class="toc-number">2.5.3.</span> <span class="toc-text">网站 favico 设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#添加点击爱心"><span class="toc-number">2.5.4.</span> <span class="toc-text">添加点击爱心</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#添加评论"><span class="toc-number">2.5.5.</span> <span class="toc-text">添加评论</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#添加打赏"><span class="toc-number">2.5.6.</span> <span class="toc-text">添加打赏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#访客统计"><span class="toc-number">2.5.7.</span> <span class="toc-text">访客统计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#设置安全域名"><span class="toc-number">2.5.8.</span> <span class="toc-text">设置安全域名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#搜索服务"><span class="toc-number">2.5.9.</span> <span class="toc-text">搜索服务</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Local-search"><span class="toc-number">2.5.9.1.</span> <span class="toc-text">Local search</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置-SSH-Key"><span class="toc-number">2.5.10.</span> <span class="toc-text">配置 SSH Key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ssh删除"><span class="toc-number">2.5.11.</span> <span class="toc-text">ssh删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查看-SSH-Key"><span class="toc-number">2.5.12.</span> <span class="toc-text">查看 SSH Key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图片链接地址优化"><span class="toc-number">2.5.13.</span> <span class="toc-text">图片链接地址优化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#更换主题Melody"><span class="toc-number">3.</span> <span class="toc-text">更换主题Melody</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PWA支持"><span class="toc-number">3.1.</span> <span class="toc-text">PWA支持</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#favicon"><span class="toc-number">3.1.1.</span> <span class="toc-text">favicon</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTPS"><span class="toc-number">4.</span> <span class="toc-text">HTTPS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#博客备份"><span class="toc-number">5.</span> <span class="toc-text">博客备份</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置问题"><span class="toc-number">6.</span> <span class="toc-text">配置问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-多个-SSH-Key-的切换问题"><span class="toc-number">6.0.1.</span> <span class="toc-text">1. 多个 SSH Key 的切换问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-多个Git账号切换问题-2018-11-09"><span class="toc-number">6.0.2.</span> <span class="toc-text">2. 多个Git账号切换问题 2018-11-09</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-解决Hexo的-Tags-显示问题-2017-04-26"><span class="toc-number">6.0.3.</span> <span class="toc-text">3. 解决Hexo的 Tags 显示问题   2017-04-26</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Cannot-find-module-39-bluebird-39-2017-05-03"><span class="toc-number">6.0.4.</span> <span class="toc-text">4. Cannot find module &#39;bluebird&#39;  2017-05-03</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-Error-Cannot-find-module-39-hexo-util-2017-05-03"><span class="toc-number">6.0.5.</span> <span class="toc-text">5. Error: Cannot find module &#39;hexo-util   2017-05-03</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-ERROR-Deployer-not-found-git-2017-05-10"><span class="toc-number">6.0.6.</span> <span class="toc-text">6. ERROR Deployer not found: git   2017-05-10</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-ERROR-Plugin-load-failed-hexo-deployer-git-2017-07-09"><span class="toc-number">6.0.7.</span> <span class="toc-text">7. ERROR Plugin load failed: hexo-deployer-git    2017-07-09</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-解决Hexo命令fs-SyncWriteStream问题-2018-02-28"><span class="toc-number">6.0.8.</span> <span class="toc-text">8. 解决Hexo命令fs.SyncWriteStream问题  2018-02-28</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-本地资料丢失后的流程当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：2019-01-26"><span class="toc-number">6.0.9.</span> <span class="toc-text">9.本地资料丢失后的流程当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：2019-01-26</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-七牛图片失效"><span class="toc-number">6.0.10.</span> <span class="toc-text">10.  七牛图片失效</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">6.1.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考"><span class="toc-number">6.2.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://pic-mike.oss-cn-hongkong.aliyuncs.com/Blog/avatar.png"></div><div class="author-info__name text-center">FrizzleFur</div><div class="author-info__description text-center">stay on your way</div><div class="follow-button"><a href="https://github.com/FrizzleFur">Follow me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">40</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">15</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://juejin.im/user/57f8ffda2e958a005581e3c0/posts">J_Knight</a><a class="author-info-links__name text-center" href="https://halfrost.com/">Halfrost</a><a class="author-info-links__name text-center" href="https://github.com/draveness/analyze">draveness</a><a class="author-info-links__name text-center" href="https://juejin.im/user/5a52075e6fb9a01c9d31b107/posts">老司机周报</a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">FFur</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/ideas">思所</a><a class="site-page" href="/booknotes">读书</a><a class="site-page" href="/gallery">相册</a><a class="site-page" href="/about">关于</a></span></div><div id="post-info"><div id="post-title">搭建博客-给Hexo换皮肤</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-03-05</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p><strong>变更记录</strong></p>
<table>
<thead>
<tr>
<th>序号</th>
<th>录入时间</th>
<th>备注 </th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2017-03-05</td>
<td>新建文章</td>
</tr>
<tr>
<td>2</td>
<td>2018-02-28</td>
<td>整理博客配置问题，添加问题8</td>
</tr>
<tr>
<td>3</td>
<td>2018-11-09</td>
<td>完善SSH Key配置</td>
</tr>
<tr>
<td>4</td>
<td>2019-01-26</td>
<td>完善博客图床url失效问题</td>
</tr>
<tr>
<td>5</td>
<td>2019-01-27</td>
<td>使用Cloudflare Free SSL解析</td>
</tr>
</tbody>
</table>
<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><blockquote>
<p>一直看到大’婶’们在用 <code>Hexo</code> 搭建博客主题，看起来不错的样纸ヾ(o◕∀◕)ﾉ，再看看自己的博客╮(╯<em>╰)╭, 肿么总感觉气质上差的不是一点半点呢，对于爱装X的我来说这能忍？(￣ェ￣;)这事一直在我心里”酝酿”着,只由于平时实在太忙(lan).<br>直到这周末，一位童鞋想让我帮忙搭个博客，让俺这懒癌患者都不好推脱，顺便换一下主题吧。本以为熟悉后分分钟的事，然而，对 <code>Git</code> 和 <code>SSH</code> 还不很熟悉的我，为了换掉原来的配置的 <code>SSH</code> 账号，搞到凌晨3点，才把博客部署上去, 搞到后面都快睡着了（¯﹃¯），期间蛋疼不断，没有深入熟悉的事不敢再说简单&lt;(</em> _)&gt;，在此记录一笔。</p>
</blockquote>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p><a href="#博客搭建史">“博客搭建史”</a><br><a href="#手残的我">手残的我╮(╯▽╰)╭</a><br><a href="#填坑SSH">填坑 <code>SSH</code> </a><br><a href="#绑定域名">绑定域名</a><br><a href="#进阶配置">进阶配置</a><br><a href="#配置问题">配置问题</a><br><a href="#总结">总结</a><br><a href="#参考">参考</a></p>
<a id="more"></a>
<h3 id="“博客搭建史”"><a href="#“博客搭建史”" class="headerlink" title="“博客搭建史”"></a><a id="博客搭建史"></a>“博客搭建史”</h3><p>我记得第一次玩博客是在15年底用 <code>Jelly</code> 的搞了一个，那时候看了N篇教程 = =，由于iOS都没学好，更别说什么 <code>Git</code> , <code>Ruby</code> 了，各种命令都不熟悉╮(╯_╰)╭，搭建后没怎么用，16年3月初，觉得人家的 <code>Hexo</code> 博客主题很好看，就选了个<a href="https://github.com/wuchong/jacman" target="_blank" rel="noopener">Jacman</a>，搭好后随便写了几篇，没去用就是不熟悉啊。一年过去才领悟到，不断记录和总结是为了积累和沉淀，慢慢对博客重视起来。 <code>Blog</code> 其实不仅是给自己看，也是和别人的交流 <code>platform</code> , 需要不断去补充完善。</p>
<h3 id="手残的我╮-╯▽╰-╭"><a href="#手残的我╮-╯▽╰-╭" class="headerlink" title="手残的我╮(╯▽╰)╭"></a><a id="手残的我"></a>手残的我╮(╯▽╰)╭</h3><p>既然要换<code>Hexo</code>主题, 以前喜欢那个<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">iissnan</a>简洁风，没想到1年不用都不会玩了啊(；ﾟ(OO)ﾟ)，这位童鞋在配置过程中小问题不断，后面直接断网了（￣工￣lll），好吧，正好让N久没写博客的我好好熟悉一下搭建过程。</p>
<h3 id="填坑-SSH"><a href="#填坑-SSH" class="headerlink" title="填坑 SSH"></a><a id="填坑SSH"></a>填坑 <code>SSH</code></h3><p>本想弄个小号来搭建这个博客，一开始以为不用配置 <code>SSH</code> 密钥，写好上传的时候, 一直被服务端拒绝o( &gt; &lt; )o,<br>配置好 <code>SSH</code> 后, 马上遇到如何切换以前所配置的难题，在新博客的 <code>config.yml</code>设置 <code>repo</code> 仓库的时候，因为<code>Git</code>默认使用以前的账号配置的 <code>SSH Key</code>，就是无法提交到仓库。<br>比如在执行 <code>hexo deploy</code> 后,出现error <code>deployer not found:git</code> 的错误.<br><strong>处理</strong><br>输入代码：<br>    <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>
<p>后面蛋疼的是一直卡着，不知道是在上传博客呢，还是卡主了。等待过程中昏昏欲睡，又怀疑配置是否出问题。总结就是感觉对 <code>Git</code> 和 <code>Ruby</code> 不熟悉的话，这个多账号切换搞屎人啊~ ╮(╯_╰)╭<br>一直搞到快3点了吧，感觉部署无望，川´･ω･`川 但还是不甘心，实在想尝试最后一次，搞完等了10分钟，终于传上去了，我是有多蛋疼 = = 。此时感觉Sooooooo relief~, 于是懒癌复发，细整之事，日后再说V(=^･ω･^=)v。</p>
<h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a><a id="绑定域名"></a>绑定域名</h3><p>添加域名DNS解析，</p>
<ol>
<li>先在 <code>Github</code> 的博客Repo上添加 <code>CNAME</code> 文件，里面就是你所要绑定的域名.</li>
</ol>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/qiniu/201612-1495009139748.png" alt="CNAME"></p>
<p>把 <code>CNAME</code> 文件放在Hexo/Source文件夹里， <code>Hexo d -g</code> 提交一下就可以推送到git上了。</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/201612-1495009379526.png" alt=""></p>
<p>2.<code>Dnspod</code> 解析</p>
<p>在域名解析商<a href="https://www.dnspod.cn/" target="_blank" rel="noopener">Dnspod</a>上新建一个域名，然后按照指示添加，对应的记录。2条泛解析的地址，和一个 <code>CNAME</code> 对应的记录。<br>Github上的2条地址分别是： <code>192.30.252.153</code> , <code>192.30.252.154</code> ,</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/201612-1495009195398.png" alt="Dnspod"></p>
<ol start="3">
<li>Manage your  <code>DNS</code><br>这里需要在购买域名的网站（我是在狗爹Godaddy买的），进入域名管理，<br><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/201612-1495009204479.png" alt="Godaddy"></li>
</ol>
<p>添加自定义DNS Management， 填写 <code>Dnspods</code> 上提供的2条地址，就是 <code>F1G1NS1.DNSPOD.NET</code> 和 <code>F1G1NS2.DNSPOD.NET</code> 。</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/201612-1495009214930.png" alt="NameServer"></p>
<p>这样，没什么问题的话，一会儿刷新绑定域名地址，就可以正常显示了，≥！ヾ(o◕∀◕)ﾉ</p>
<h3 id="进阶配置"><a href="#进阶配置" class="headerlink" title="进阶配置"></a><a id="进阶配置"></a>进阶配置</h3><h4 id="使用-MWeb-发布-Hexo-博客"><a href="#使用-MWeb-发布-Hexo-博客" class="headerlink" title="使用 MWeb 发布 Hexo 博客"></a>使用 <code>MWeb</code> 发布 <code>Hexo</code> 博客</h4><p>设置<a href="https://portal.qiniu.com/create" target="_blank" rel="noopener">七牛</a>的图床</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/14932220316322.jpg" alt=""></p>
<p>然后打开 <code>MWeb</code> ， <code>Cmd+E</code> 切换到外部模式，把博客拖入到<code>MWeb</code>中，之后使用</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/14932222718998.jpg" alt=""></p>
<p><code>hexo n &quot;blog name&quot;</code> 来创建博客<br><code>hexo d -g</code> 来发布提交博客，<code>MWeb</code> 将及时同步，写博客变得很方便 :]</p>
<p><strong>优化</strong><br>后期将使用云备份<code>MWeb</code>博客，优化图床，添加评论。（已完成）</p>
<p>—————————————————————————<br>———————— 2017-09-17 ——————————</p>
<p><a href="http://zh.mweb.im/mweb-1.9.3-release.html" target="_blank" rel="noopener">七牛图床设置详细说明</a><br><a href="http://zh.mweb.im/how_to_use_images_in_mweb.html" target="_blank" rel="noopener">MWeb Mac 版和 iOS 版图片及图床使用完全指南 - MWeb</a><br>想要自动上传的话，请编辑文档库，勾选“把插入的图片自动上传到图床”，不过作者不建议这样做，主要是万一图床挂了或者是什么问题，比较麻烦。这个方式只在外部模式中支持，文档库不支持。不过保证图传没问题的话，很方便。</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/15056443375609.jpg" alt=""></p>
<p>—————————————————————————</p>
<p>———————— 2017-05-03 ——————————</p>
<h4 id="头像设置-avatar"><a href="#头像设置-avatar" class="headerlink" title="头像设置 avatar"></a>头像设置 <code>avatar</code></h4><p>编辑站点配置文件，新增字段 avatar， 值设置成头像的链接地址。<br>avatar: <a href="http://i5.tietuku.com/0d972d2b106fc7ea.jpg" target="_blank" rel="noopener">http://i5.tietuku.com/0d972d2b106fc7ea.jpg</a></p>
<h4 id="网站-favico-设置"><a href="#网站-favico-设置" class="headerlink" title="网站 favico 设置"></a>网站 <code>favico</code> 设置</h4><p>通过网站<a href="http://tool.lu/favicon/" target="_blank" rel="noopener">favicon在线制作</a>制作favicon图片，logo最好设置32*32。<br>next主题：将图片放在next主题source/images目录下<br>在next主题配置文件中添加：<code>favicon: images/favicon.ico</code></p>
<p>参考<a href="http://www.jianshu.com/p/ba61be039c1f" target="_blank" rel="noopener">hexo之next主题优化整理</a><br>—————————————————</p>
<p>———————— 2017-05-10 ——————————</p>
<h4 id="添加点击爱心"><a href="#添加点击爱心" class="headerlink" title="添加点击爱心"></a>添加点击爱心</h4><p><a href="https://qiufengyu.github.io/2016/10/14/theme-custom/" target="_blank" rel="noopener">鼠标点击小爱心设置</a></p>
<p>将 <code>love.js</code> 文件添加到 <code>themes/next/source/js/src</code> 文件目录下。<br>在<code>themes/next/layout/_layout.swing</code>文件的 <code>&lt;/body&gt;</code>标签之前添加以下代码：<br><code>&lt;!-- 页面点击小红心 --&gt;</code><br><code>&lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/love.js&quot;&gt;&lt;/script&gt;</code><br>有趣的是，小爱心的颜色是随机的哟(=・ω・=)</p>
<h4 id="添加评论"><a href="#添加评论" class="headerlink" title="添加评论"></a>添加评论</h4><p>我使用的是<a href="https://www.hypercomments.com/" target="_blank" rel="noopener">Hypercomments</a>，Next最新已经集成了<code>hypercomments</code> ,只需要在next的themes的 <code>_config.yml</code> 文件中打开 <code>hypercomments_id</code> 并填写id即可。</p>
<h4 id="添加打赏"><a href="#添加打赏" class="headerlink" title="添加打赏"></a>添加打赏</h4><p><a href="https://qiufengyu.github.io/2016/10/14/next-theme-advanced/" target="_blank" rel="noopener">开启打赏功能 由 habren 贡献</a></p>
<p>越来越多的平台（微信公众平台，新浪微博，简书，百度打赏等）支持打赏功能，付费阅读时代越来越近，特此增加了打赏功能，支持微信打赏和支付宝打赏。 只需要 主题配置文件 中填入 微信 和 支付宝 收款二维码图片地址 即可开启该功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">打赏功能配置示例</span><br><span class="line">reward_comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</span><br><span class="line">wechatpay: /path/to/wechat-reward-image</span><br><span class="line">alipay: /path/to/alipay-reward-image</span><br></pre></td></tr></table></figure>
<h4 id="访客统计"><a href="#访客统计" class="headerlink" title="访客统计"></a>访客统计</h4><ol>
<li><a href="https://lfwen.site/2016/05/31/add-count-for-hexo-next/" target="_blank" rel="noopener">leancloud</a></li>
<li><a href="https://qinzhaokun.github.io/2017/06/10/%E4%BD%BF%E7%94%A8leancloud%E7%BB%99%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E9%98%85%E8%AF%BB%E6%AC%A1%E6%95%B0/" target="_blank" rel="noopener">使用leancloud给博客添加阅读次数</a></li>
</ol>
<blockquote>
<p>在next的themes的 <code>_config.yml</code> 文件中打开 <code>leancloud_visitors</code> ，enable为true,填写leancloud的 <code>app_id</code> 和 <code>app_key</code></p>
</blockquote>
<p>修改语言配置文件</p>
<p>添加visitors字段，英文在themes\next\languages\en.yml，中文在themes\next\languages\zh-Hans.yml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">post:</span><br><span class="line">  posted: 发表于</span><br><span class="line">  visitors: 阅读次数</span><br><span class="line">  updated: 更新于</span><br><span class="line">  in: 分类于</span><br><span class="line">  read_more: 阅读全文</span><br><span class="line">  untitled: 未命名</span><br></pre></td></tr></table></figure>
<p>然后想修改一下样式，在<code>post.swig</code>文件中加个符号🤦‍♀️</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/2017-07-03-14990668224636.jpg" alt=""></p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/2017-07-03-14990667583884.jpg" alt=""></p>
<h4 id="设置安全域名"><a href="#设置安全域名" class="headerlink" title="设置安全域名"></a>设置安全域名</h4><p>应用-&gt;设置-&gt;安全中心-&gt;Web安全域名中设置自己博客的域名</p>
<ol start="2">
<li>busuanzi_count<br>打开 <code>busuanzi_count</code> ，本人使用 <code>leancloud</code> 统计每篇文章的访问次数，所以这里只打开 <code>site_uv</code> 来统计站点人访问数。<code>site_pv</code>代表站点总访问次数。</li>
</ol>
<h4 id="搜索服务"><a href="#搜索服务" class="headerlink" title="搜索服务"></a>搜索服务</h4><p><a href="http://theme-next.iissnan.com/third-party-services.html#search-system" target="_blank" rel="noopener">Local Search</a><br>安装 <code>hexo-generator-searchdb</code> ，在站点的根目录下执行以下命令：</p>
<p><code>$ npm install hexo-generator-searchdb --save</code></p>
<p>编辑 站点配置文件，新增以下内容到任意位置：<br>search:<br>  path: search.xml<br>  field: post<br>  format: html<br>  limit: 10000<br>编辑 主题配置文件，启用本地搜索功能：</p>
<h5 id="Local-search"><a href="#Local-search" class="headerlink" title="Local search"></a>Local search</h5><p>local_search:<br>  enable: true</p>
<p>—————————————————</p>
<h4 id="配置-SSH-Key"><a href="#配置-SSH-Key" class="headerlink" title="配置 SSH Key"></a>配置 <code>SSH Key</code></h4><ol>
<li>查看已添加的 <code>ssh key</code> 列表  <code>2017-05-10</code><br><a href="http://unix.stackexchange.com/questions/58969/how-to-list-keys-added-to-ssh-agent-with-ssh-add" target="_blank" rel="noopener">How to list keys added to ssh-agent with ssh-add?</a><blockquote>
<p>Use the -l option to ssh-add to list them by fingerprint.</p>
</blockquote>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-add -l</span><br><span class="line">2048 72:...:eb /home/gert/.ssh/mykey (RSA)</span><br><span class="line">Or with -L to get the full key in OpenSSH format.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-add -L</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc[...]B63SQ== /home/gert/.ssh/id_rsa</span><br><span class="line">The latter format is the same as you would put them in a ~/.ssh/authorized_keys file.</span><br></pre></td></tr></table></figure>
<p>2.<a href="http://stackoverflow.com/questions/25464930/how-to-remove-a-ssh-key" target="_blank" rel="noopener">How to remove a ssh key</a></p>
<p><code>ssh-add -d</code></p>
<p><code>ssh-add -D</code></p>
<blockquote>
<p>ssh-add -d/-D deletes only manually added keys from gnome-keyring.<br>There is no way to delete automatically added keys.<br>This is the original bug, and it’s still definitely present.</p>
</blockquote>
<blockquote>
<p>So, for example, if you have two different automatically-loaded ssh identities associated with two different GitHub accounts – say for work and for home – there’s no way to switch between them. GitHubtakes the first one which matches, so you always appear as your ‘home’ user to GitHub, with no way to upload things to work projects.</p>
</blockquote>
<blockquote>
<p>Allowing ssh-add -d to apply to automatically-loaded keys (and ssh-add -t X to change the lifetime of automatically-loaded keys), would restore the behavior most users expect.<br>More precisely, about the issue:</p>
</blockquote>
<blockquote>
<p>You’ll still get an ssh-agent, only now it will behave sanely: no keys autoloaded, you run ssh-add to add them, and if you want to delete keys, you can. Imagine that.<br>This comments actually suggests:</p>
</blockquote>
<blockquote>
<p>The solution is to keep gnome-keyring-manager from ever starting up, which was strangely difficult by finally achieved by removing the program file’s execute permission.</p>
</blockquote>
<ol>
<li>查看已添加的 <code>ssh key</code> 列表  <code>2017-05-10</code></li>
</ol>
<blockquote>
<p>Use the -l option to ssh-add to list them by fingerprint.</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-add -l</span><br><span class="line">2048 72:...:eb /home/gert/.ssh/mykey (RSA)</span><br><span class="line">Or with -L to get the full key in OpenSSH format.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-add -L</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc[...]B63SQ== /home/gert/.ssh/id_rsa</span><br><span class="line">The latter format is the same as you would put them in a ~/.ssh/authorized_keys file.</span><br></pre></td></tr></table></figure>
<h4 id="ssh删除"><a href="#ssh删除" class="headerlink" title="ssh删除"></a>ssh删除</h4><p><code>ssh-add -d</code><br><code>ssh-add -D</code></p>
<blockquote>
<p>ssh-add -d/-D deletes only manually added keys from gnome-keyring.<br>There is no way to delete automatically added keys.<br>This is the original bug, and it’s still definitely present.</p>
</blockquote>
<blockquote>
<p>So, for example, if you have two different automatically-loaded ssh identities associated with two different GitHub accounts – say for work and for home – there’s no way to switch between them. GitHubtakes the first one which matches, so you always appear as your ‘home’ user to GitHub, with no way to upload things to work projects.</p>
</blockquote>
<blockquote>
<p>Allowing ssh-add -d to apply to automatically-loaded keys (and ssh-add -t X to change the lifetime of automatically-loaded keys), would restore the behavior most users expect.<br>More precisely, about the issue:</p>
</blockquote>
<blockquote>
<p>You’ll still get an ssh-agent, only now it will behave sanely: no keys autoloaded, you run ssh-add to add them, and if you want to delete keys, you can. Imagine that.<br>This comments actually suggests:</p>
</blockquote>
<blockquote>
<p>The solution is to keep gnome-keyring-manager from ever starting up, which was strangely difficult by finally achieved by removing the program file’s execute permission.<br>解决的办法是让GNOME Keyring经理不会启动，这是由最后通过删除程序文件的执行权限异常困难。</p>
</blockquote>
<h4 id="查看-SSH-Key"><a href="#查看-SSH-Key" class="headerlink" title="查看 SSH Key"></a>查看 <code>SSH Key</code></h4><hr>
<ol>
<li><p>查看当前指定的 <code>ssh key</code><br>使用 <code>$ ssh -T git@github.com</code> 测试当前账号<br>查看全部已经添加的 <code>ssh</code><br><code>$ ssh-add -l</code><br><code>$ ssh-add -L</code></p>
</li>
<li><p>创建新的 <code>ssh key</code><br>Generating public/private rsa key pair.<br>When you’re prompted to “Enter a file in which to save the key,” press Enter. This accepts the default file location.<br><a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/" target="_blank" rel="noopener">Generating a new SSH key and adding it to the ssh-agent</a><br>Enter a file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter]<br>At the prompt, type a secure passphrase. For more information, see “Working with SSH key passphrases”.<br>Enter passphrase (empty for no passphrase): [Type a passphrase]<br>Enter same passphrase again: [Type passphrase again]</p>
</li>
<li><p>添加 <code>ssh</code><br><code>$ ssh-add -K ~/.ssh/id_rsa</code> (id_rsa对应账户的私钥)</p>
</li>
</ol>
<p>检查当前配置的SSH对应的git账号： <code>ssh -T git@github.com</code></p>
<p><code>Hi FrizzleFur! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code><br>检查当库的远程分支 <code>origin master</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> git remote -v</span><br><span class="line">origin https://MichaelMaoMao@bitbucket.org/MichaelMaoMao/frizzlefurblog.git (fetch)</span><br><span class="line">origin https://MichaelMaoMao@bitbucket.org/MichaelMaoMao/frizzlefurblog.git (push)</span><br><span class="line">查看全部已经添加的ssh</span><br><span class="line">$ ssh-add -l</span><br><span class="line">$ ssh-add -L</span><br></pre></td></tr></table></figure>
<p>检查key的config配置</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/201612-1496541213950.png" alt=""></p>
<p>检查github账号的ssh key是否对应</p>
<p><img src="http://pic-mike.oss-cn-hongkong.aliyuncs.com/qiniu/201612-1496541352737.png" alt=""></p>
<p>添加SSH key(私钥)<br>ssh-add SSHPrivateKeyName<br>添加对应的rsa文件 ssh-add ~/.ssh/id_rsa_public15</p>
<p>删除SSH key（公钥）<br>ssh-add SSHPublicKeyName<br>删除对应的rsa文件 ssh-add -d ~/.ssh/id_rsa_15.pub</p>
<p>使用<code>ssh -T git@github.com</code>测试当前账号<br><strong>问题：</strong>准备push的时候，账户密码报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br><span class="line">remote: Invalid username or password.</span><br><span class="line">fatal: Authentication failed for &apos;https://github.com/michaelMaoMao/MMPieChart.git/&apos;</span><br><span class="line">解决，</span><br><span class="line">Git push results in “Authentication Failed”</span><br><span class="line">HTTPS cloning errors</span><br><span class="line">git remote -v</span><br><span class="line">git remote remove origin</span><br><span class="line">git remote add origin git@github.com:user/repo.git</span><br></pre></td></tr></table></figure>
<p>添加TokenCreating a personal access token for the command line</p>
<h4 id="图片链接地址优化"><a href="#图片链接地址优化" class="headerlink" title="图片链接地址优化"></a>图片链接地址优化</h4><p><a href="https://segmentfault.com/a/1190000009263202#articleHeader8" target="_blank" rel="noopener">解决博客图片存储——阿里云的OSS运用 - 2017年最新基于hexo搭建个人免费博客 - SegmentFault 思否</a></p>
<p>其实这个也没什么，但是一些图片的外链和title好像是会提高搜索引擎的蜘蛛爬取。<br>比如在用MD写文章的时候引入图片的title最好这样</p>
<p><img src="http://img.cduyzh.com/images/aliyun-oss5.png" alt="阿里云-OSS运用"><br>细心的人可能会发现我的图片地址很简洁，这样就会让百度和其他搜索引擎的蜘蛛更快的来爬去你的图片进而检录上去。</p>
<h2 id="更换主题Melody"><a href="#更换主题Melody" class="headerlink" title="更换主题Melody"></a>更换主题Melody</h2><h3 id="PWA支持"><a href="#PWA支持" class="headerlink" title="PWA支持"></a>PWA支持</h3><p><a href="https://molunerfinn.com/hexo-theme-melody-doc/#/additional-package-support?id=pwa" target="_blank" rel="noopener">Additional-package support - Document</a></p>
<p><a href="https://upupming.site/2018/04/08/beautify-hexo-SEO-travis/#%E7%BE%8E%E5%8C%96" target="_blank" rel="noopener">Hexo 博客美化、SEO优化、Travis CI 自动化持续集成构建 | upupming 的博客</a></p>
<h4 id="favicon"><a href="#favicon" class="headerlink" title="favicon"></a>favicon</h4><p><a href="https://realfavicongenerator.net/" target="_blank" rel="noopener">Realfavicongenerator</a></p>
<h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><p>免费的SSL: <code>Let’s Encrypt</code></p>
<p><a href="https://freessl.cn/" target="_blank" rel="noopener">FreeSSL首页 - FreeSSL.org 一个申请免费HTTPS证书的网站</a><br>Let’s Encrypt 与 TrustAsia 为之提供免费SSL证书。</p>
<p><a href="http://www.woguide.com/archives/1303.html" target="_blank" rel="noopener">如何在 FreeSSL.org 申请免费 SSL 证书 | 九天博客</a></p>
<h2 id="博客备份"><a href="#博客备份" class="headerlink" title="博客备份"></a>博客备份</h2><p>其实，Hexo生成的文件里面是有一个.gitignore的，所以它的本意应该也是想我们把这些文件放到GitHub上存放的。但是考虑到如果每个GitHub Pages都需要额外的一个仓库存放这些文件，就显得特别冗余了。这个时候就可以用分支的思路！一个分支用来存放Hexo生成的网站原始的文件，另一个分支用来存放生成的静态网页。</p>
<p><a href="https://www.zhihu.com/question/21193762" target="_blank" rel="noopener">使用hexo，如果换了电脑怎么更新博客？ - 知乎</a></p>
<p>一、关于搭建的流程</p>
<p>1. 创建仓库，<a href="http://CrazyMilk.github.io" target="_blank" rel="noopener">http://CrazyMilk.github.io</a>；<br>2. 创建两个分支：master 与 hexo；<br>3. 设置hexo为默认分支（因为我们只需要手动管理这个分支上的Hexo网站文件）；<br>4. 使用git clone <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:CrazyMilk/CrazyMilk.github.io.git拷贝仓库；<br>5. 在本地<a href="http://CrazyMilk.github.io" target="_blank" rel="noopener">http://CrazyMilk.github.io</a>文件夹下通过Git bash依次执行npm install hexo、hexo init、npm install 和 npm install hexo-deployer-git（此时当前分支应显示为hexo）;<br>6. 修改_config.yml中的deploy参数，分支应为master；<br>7. 依次执行git add .、git commit -m “…”、git push origin hexo提交网站相关的文件；<br>8. 执行hexo g -d生成网站并部署到GitHub上。</p>
<p>这样一来，在GitHub上的<a href="http://CrazyMilk.github.io" target="_blank" rel="noopener">http://CrazyMilk.github.io</a>仓库就有两个分支，一个hexo分支用来存放网站的原始文件，一个master分支用来存放生成的静态网页。完美( •̀ ω •́ )y！</p>
<p>二、关于日常的改动流程<br>在本地对博客进行修改（添加新博文、修改样式等等）后，通过下面的流程进行管理。</p>
<p>1. 依次执行git add .、git commit -m “…”、git push origin hexo指令将改动推送到GitHub（此时当前分支应为hexo）；<br>2. 然后才执行hexo g -d发布网站到master分支上。</p>
<p>虽然两个过程顺序调转一般不会有问题，不过逻辑上这样的顺序是绝对没问题的（例如突然死机要重装了，悲催….的情况，调转顺序就有问题了）。</p>
<p>三、本地资料丢失后的流程<br>当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：</p>
<p>1. 使用git clone <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:CrazyMilk/CrazyMilk.github.io.git拷贝仓库（默认分支为hexo）；<br>2. 在本地新拷贝的<a href="http://CrazyMilk.github.io" target="_blank" rel="noopener">http://CrazyMilk.github.io</a>文件夹下通过Git bash依次执行下列指令：npm install hexo、npm install、npm install hexo-deployer-git（记得，不需要hexo init这条指令）。</p>
<h2 id="配置问题"><a href="#配置问题" class="headerlink" title="配置问题"></a><a id="配置问题"></a>配置问题</h2><p>具体问题详情请转到<a href="http://frizzlefur.com/2017/05/03/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/">建站日志 | FFur</a></p>
<h4 id="1-多个-SSH-Key-的切换问题"><a href="#1-多个-SSH-Key-的切换问题" class="headerlink" title="1. 多个 SSH Key 的切换问题"></a>1. 多个 <code>SSH Key</code> 的切换问题</h4><h4 id="2-多个Git账号切换问题-2018-11-09"><a href="#2-多个Git账号切换问题-2018-11-09" class="headerlink" title="2. 多个Git账号切换问题 2018-11-09"></a>2. 多个Git账号切换问题 <code>2018-11-09</code></h4><p>默认的ssh key为id_rsa， 如果有多个ssh key，会有多个命名，需要在ssh的config文件中制定ssh key的HostName</p>
<p> config文件地址　~/.ssh/config</p>
<p><img src="https://i.loli.net/2018/11/09/5be583e8ac053.jpg" alt=""></p>
<h4 id="3-解决Hexo的-Tags-显示问题-2017-04-26"><a href="#3-解决Hexo的-Tags-显示问题-2017-04-26" class="headerlink" title="3. 解决Hexo的 Tags 显示问题   2017-04-26"></a>3. 解决Hexo的 <code>Tags</code> 显示问题   <code>2017-04-26</code></h4><h4 id="4-Cannot-find-module-39-bluebird-39-2017-05-03"><a href="#4-Cannot-find-module-39-bluebird-39-2017-05-03" class="headerlink" title="4. Cannot find module &#39;bluebird&#39;  2017-05-03"></a>4. <code>Cannot find module &#39;bluebird&#39;</code>  <code>2017-05-03</code></h4><h4 id="5-Error-Cannot-find-module-39-hexo-util-2017-05-03"><a href="#5-Error-Cannot-find-module-39-hexo-util-2017-05-03" class="headerlink" title="5. Error: Cannot find module &#39;hexo-util   2017-05-03"></a>5. <code>Error: Cannot find module &#39;hexo-util</code>   <code>2017-05-03</code></h4><h4 id="6-ERROR-Deployer-not-found-git-2017-05-10"><a href="#6-ERROR-Deployer-not-found-git-2017-05-10" class="headerlink" title="6. ERROR Deployer not found: git   2017-05-10"></a>6. ERROR Deployer not found: git   <code>2017-05-10</code></h4><h4 id="7-ERROR-Plugin-load-failed-hexo-deployer-git-2017-07-09"><a href="#7-ERROR-Plugin-load-failed-hexo-deployer-git-2017-07-09" class="headerlink" title="7. ERROR Plugin load failed: hexo-deployer-git    2017-07-09"></a>7. ERROR Plugin load failed: hexo-deployer-git    <code>2017-07-09</code></h4><h4 id="8-解决Hexo命令fs-SyncWriteStream问题-2018-02-28"><a href="#8-解决Hexo命令fs-SyncWriteStream问题-2018-02-28" class="headerlink" title="8. 解决Hexo命令fs.SyncWriteStream问题  2018-02-28"></a>8. 解决Hexo命令fs.SyncWriteStream问题  <code>2018-02-28</code></h4><h4 id="9-本地资料丢失后的流程当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：2019-01-26"><a href="#9-本地资料丢失后的流程当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：2019-01-26" class="headerlink" title="9.本地资料丢失后的流程当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：2019-01-26"></a>9.本地资料丢失后的流程当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：<code>2019-01-26</code></h4><ol>
<li>使用git clone <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:UserName/UserName.github.io.git拷贝仓库（默认分支为hexo）；</li>
<li>在本地新拷贝的<a href="http://UserName.github.io文件夹下通过Git" target="_blank" rel="noopener">http://UserName.github.io文件夹下通过Git</a> bash依次执行下列指令：npm install hexo、npm install、npm install hexo-deployer-git（记得，不需要hexo init这条指令）。</li>
</ol>
<h4 id="10-七牛图片失效"><a href="#10-七牛图片失效" class="headerlink" title="10.  七牛图片失效"></a>10.  七牛图片失效</h4><p>解决：<a href="https://blog.csdn.net/lkj345/article/details/83382636" target="_blank" rel="noopener">七牛云测试域名失效导致图片外链失效的解决办法 - chensonglu的博客 - CSDN博客</a><br>因为域名备案很麻烦，就想将原先的图换到别的图床上。</p>
<ul>
<li>先将图床的bucket图片下载到本地，更换图床。</li>
</ul>
<ol>
<li>下载<code>qrsctl</code><a href="https://developer.qiniu.com/kodo/tools/1300/qrsctl" target="_blank" rel="noopener">命令行辅助工具(qrsctl)_工具_对象存储 - 七牛开发者中心</a>，<code>chmod +x qrsctl</code>赋予可执行权限。</li>
<li>输入自己七牛云的账号和密码登录</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## ./qrstcl 表示qrstcl的文件路径</span><br><span class="line">./qrstcl login &lt;your username&gt; &lt;your password&gt;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>查看图床,由于我之前所有图片是在七牛云对象存储中的bucket中，运行如下代码查看目前我建立的所有bucket。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## ./qrstcl 表示qrstcl的文件路径</span><br><span class="line">./qrsctl listprefix bucketName &apos;&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>cd到桌面新建一个文件夹，比如：QiniuPics, 然后新建一个下载脚本<code>qiniuPics.sh</code></p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/bash</span><br><span class="line"></span><br><span class="line">imgs=`./qrsctl listprefix bucketName ''`</span><br><span class="line"></span><br><span class="line">i=0</span><br><span class="line">echo $imgs | tr " " "\n" | while read line</span><br><span class="line">do</span><br><span class="line">    if(($i&gt;0))</span><br><span class="line">    then</span><br><span class="line">        echo $line</span><br><span class="line">        ./qrsctl get bucketName $line ./$line</span><br><span class="line">    fi</span><br><span class="line">    i=$(($i+1))</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>执行脚本下载</li>
</ol>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh qiniuPics.sh</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>下载单图</li>
</ol>
<p>得到图片名后，可以通过七牛云的如下接口下载一张图片。<br>比如./qrsctl get picture 1.jpg ./i.jpg可以将picture中的1.jpg下载到本地机器当前路径下的1.jpg</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qrsctl get &lt;Bucket&gt; &lt;Key&gt; &lt;DestFile&gt;</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>将上述几步综合起来批量下载到本地，如下代码按图片原名下载到本地当前路径下。</li>
</ol>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a><a id="总结"></a>总结</h3><p>上次匆忙配置，由于没有很熟悉 <code>hexo</code> 和 <code>node.js</code> 的使用,这次遇到的几个问题基本“靠猜”了(シ_ <em>)シ.<br>发现有些报错问题在之前就遇到过，看来当初木有很好的总结。（一年没弄，真的手生了啊 = =）<br>以前开发的东西，我基本搞完就丢一边的，可怕的习惯(-</em>-)ゞ゛有些关键的步骤和常见的问题需要记录，再也不想给自己挖坑了(&gt;_&lt;)<br>平时总有些遇到的点和想做的事，常常存在脑海里，然而结果上来看，实践出来的东西更实在吧。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a><a id="参考"></a>参考</h3><ol>
<li><a href="http://unix.stackexchange.com/questions/58969/how-to-list-keys-added-to-ssh-agent-with-ssh-add" target="_blank" rel="noopener">How to list keys added to ssh-agent with ssh-add?</a></li>
<li><a href="http://stackoverflow.com/questions/25464930/how-to-remove-a-ssh-key" target="_blank" rel="noopener">How to remove a ssh key</a></li>
<li><a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/" target="_blank" rel="noopener">Generating a new SSH key and adding it to the ssh-agent</a></li>
<li><a href="http://www.leyar.me/hexo-deploy-to-git-error/" target="_blank" rel="noopener">Hexo 部署到 GitHub 出错</a></li>
<li><a href="https://github.com/hexojs/hexo/issues/1478" target="_blank" rel="noopener">HEXO DEPLOY 时不断 Error: Permission denied (publickey). fatal: Could not read from remote repository. #1478</a></li>
<li><a href="https://qiufengyu.github.io/2016/10/14/next-theme-advanced/" target="_blank" rel="noopener">Advanced Configuration of NexT Theme</a> <code>Hexo</code> 高级配置</li>
<li><a href="http://yangbingdong.com/guestbook/" target="_blank" rel="noopener">yangbingdong</a></li>
</ol>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">FrizzleFur</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://frizzlefur.com/2017/03/05/搭建博客-给Hexo换皮肤/">http://frizzlefur.com/2017/03/05/搭建博客-给Hexo换皮肤/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://frizzlefur.com">FFur</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://pic-mike.oss-cn-hongkong.aliyuncs.com/Blog/avatar.png"><div class="post-qr-code__desc">我要吐槽下</div></div></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2017/03/31/Xcode帮助文档/"><i class="fa fa-chevron-left">  </i><span>Xcode帮助文档</span></a></div><div class="next-post pull-right"><a href="/2016/12/05/iOS_类和元类/"><span>关于Objc中的类和元类——《Effective Objective-C 2.0 编写高质量iOS与OS X代码的52个有效方法》读后感</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="lv-container" data-id="city" data-uid="Mi8xLzM"><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2019 By FrizzleFur</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Hi, this is just a small place for reflect.</div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.6"></script><script src="/js/fancybox.js?version=1.5.6"></script><script src="/js/sidebar.js?version=1.5.6"></script><script src="/js/copy.js?version=1.5.6"></script><script src="/js/fireworks.js?version=1.5.6"></script><script src="/js/transition.js?version=1.5.6"></script><script src="/js/scroll.js?version=1.5.6"></script><script src="/js/head.js?version=1.5.6"></script></body></html>